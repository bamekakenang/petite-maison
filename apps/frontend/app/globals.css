@tailwind base;
@tailwind components;
@tailwind utilities;

:root{color-scheme:light}

/* Horror film site background */
body.horror-film{color-scheme:dark;background:#0b0b0f}
body.horror-film::before{content:"";position:fixed;inset:0;background:url('/products/horror-scene.jpg') center/cover no-repeat;filter:brightness(.35) saturate(.85) blur(2px);transform:scale(1.03);z-index:-2}
body.horror-film::after{content:"";position:fixed;inset:0;pointer-events:none;z-index:-1;background:
  radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,.55) 85%),
  repeating-linear-gradient(180deg, rgba(255,255,255,.03) 0 2px, transparent 2px 3px);
opacity:.35;mix-blend-mode:multiply}

/* VHS grain + scanlines */
@keyframes grain{0%{transform:translate(0,0)}100%{transform:translate(-10%, -10%)}}
.vhs-grain{position:relative}
.vhs-grain::after{content:"";position:absolute;inset:0;background:
  repeating-linear-gradient(0deg,rgba(255,255,255,.03) 0 1px,transparent 1px 2px),
  radial-gradient(circle at 20% 30%, rgba(0,0,0,.04) 0 2px, transparent 2px 4px),
  radial-gradient(circle at 80% 70%, rgba(0,0,0,.04) 0 2px, transparent 2px 4px);
  mix-blend-mode:multiply;opacity:.18;animation:grain .6s steps(2,end) infinite;pointer-events:none}
.scanlines::before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(transparent 0 2px, rgba(0,0,0,.15) 2px 3px);mix-blend-mode:multiply;opacity:.2;pointer-events:none}

/* Blood drip */
@keyframes drip{0%{transform:translateY(-10px) scaleY(.8);opacity:.95}80%{opacity:.95}100%{transform:translateY(22px) scaleY(1.15);opacity:0}}
.blood-drip{position:relative;overflow:hidden}
.blood-drip::before{content:"";position:absolute;top:-6px;left:10%;width:80%;height:8px;border-radius:8px;background:linear-gradient(to bottom,#b91c1c,#7f1d1d);filter:drop-shadow(0 1px 0 rgba(0,0,0,.2))}
.blood-drip::after{content:"";position:absolute;top:0;left:25%;width:10px;height:10px;border-radius:50%;background:#ef4444;animation:drip 1.8s ease-in infinite}

/* Horror logo accent */
.horror-logo{position:relative;display:inline-flex}
.horror-logo::after{content:"";position:absolute;right:-3px;top:10px;width:4px;height:8px;border-radius:2px;background:#ef4444;filter:blur(.2px);animation:drip 2.4s ease-in infinite}

/* Glitch hover */
.glitch-hover img,.glitch-hover picture img{transition:filter .2s,transform .2s}
.glitch-hover:hover img,.glitch-hover:hover picture img{transform:translate3d(-1px,0,0);filter:drop-shadow(2px 0 0 #00e5ff) drop-shadow(-2px 0 0 #ff006e)}

/* Avatar initials micro-glitch */
@keyframes avatar-glitch { 
  0%, 100% { transform: translate(0,0); text-shadow: 0 0 0 rgba(220,38,38,0), 0 0 0 rgba(0,0,0,0); }
  15% { transform: translate(-1px, 0); text-shadow: -1px 0 0 rgba(220,38,38,.75), 1px 0 0 rgba(0,0,0,.6); }
  35% { transform: translate(1px, 0); text-shadow: 1px 0 0 rgba(220,38,38,.75), -1px 0 0 rgba(0,0,0,.6); }
  55% { transform: translate(0, -1px); text-shadow: 0 -1px 0 rgba(220,38,38,.75), 0 1px 0 rgba(0,0,0,.6); }
  75% { transform: translate(0, 1px); text-shadow: 0 1px 0 rgba(220,38,38,.75), 0 -1px 0 rgba(0,0,0,.6); }
}
.avatar-initials { will-change: transform, text-shadow; }
.group:hover .avatar-initials, a:focus-visible .avatar-initials { animation: avatar-glitch .42s steps(2,end) 1; }
